(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(7),i=n.n(o),c=(n(14),n(1)),l=n(2),s=n(4),u=n(3),d=n(5),p=(n(15),function(e){var t=e.title,n=void 0===t?"Neighborhood Map: Puna District Grocers":t;e.url;return r.a.createElement("header",{id:"header"},r.a.createElement("h1",{"aria-label":"home",tabIndex:"1",id:"title"},n))}),m=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).markers=[],n.addMarkers=function(e){window.google&&function(){for(var t=new window.google.maps.InfoWindow,a=function(a){var r=new window.google.maps.Marker({position:{lat:e[a].venue.location.lat,lng:e[a].venue.location.lng},map:window.googleMapObject,title:e[a].venue.id});r.addListener("click",function(){t.setContent('<div>\n          <p>Name: <a href="#">'.concat(e[a].venue.name,"</a></p>\n          <p>Address: ").concat(e[a].venue.location.address,"</p>\n        </div>")),t.open(window.googleMapObject,r)}),n.markers.push(r)},r=0;r<e.length;r++)a(r);window.markers=n.markers,window.infowindow=t}()},n.filterMarkersOnMap=function(){for(var e=0;e<n.markers.length;e++)n.markers[e].setMap(null)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"constructInfo",value:function(e){}},{key:"render",value:function(){return this.filterMarkersOnMap(),this.addMarkers(this.props.venues),r.a.createElement("div",{id:"map"})}}]),t}(r.a.Component),v=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.venues;return r.a.createElement("div",{id:"list"},r.a.createElement("h2",null,"Local Grocers"),r.a.createElement("p",null,this.props.textString),r.a.createElement("label",{tabIndex:"0",htmlFor:"namedInput"},"Filter By Name:"),r.a.createElement("input",{tabIndex:"2",id:"namedInput",type:"text",name:"name",value:this.props.textString,onChange:function(t){return e.props.changeMarker(t.target.value)}}),r.a.createElement("ol",null,t.map(function(t){return r.a.createElement("li",{key:t.venue.id,tabIndex:"2"},r.a.createElement("div",null,r.a.createElement("p",null,"Name:",r.a.createElement("a",{href:"#",type:"text","aria-label":t.venue.name,"aria-required":"true",onClick:function(){return e.props.showInfo(t)}},t.venue.name)),r.a.createElement("p",null,"Address: ",t.venue.location.address)))})))}}]),t}(r.a.Component),f=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={venues:[],allVenues:[],text:""},n.clickMarker=function(e){for(var t=0;t<window.markers.length;t++)if(e.venue.id===window.markers[t].title){var a=n.constructInfo(e);console.log("id/title",window.markers[t].title,e.venue.id),console.log(window.googleMapObject.mapDataProviders),window.infowindow.setContent(a),window.infowindow.open(window.googleMapObject,window.markers[t])}},n.updateContent=function(e){n.setState({text:e}),e?n.setState({venues:n.filterItems(e,n.state.venues)}):n.setState({venues:n.state.allVenues})},n.filterItems=function(e,t){return t.filter(function(t){return t.venue.name.toLowerCase().includes(e.toLowerCase())})},n.constructInfo=function(e){return'<div>\n      <p>Name: <a href="#">'.concat(e.venue.name,"</a></p>\n      <p>Address: ").concat(e.venue.location.address,"</p>\n    </div>")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.foursquare.com/v2/venues/explore?categoryId=4bf58dd8d48988d118951735&near=96749&client_id=".concat("QEDGLBW2DKG1VNT15ERQBMZCCLVKO4J3JDNP4UJQTLH35FBZ","&client_secret=").concat("SDEEK4HQN34GE24JP2TELDEJWX3CRI3V1X0YLO4CV15FF4CJ","&v=20190212\n")).then(function(e){return e.json()}).then(function(e){return e.response.groups[0].items}).then(function(t){return e.setState({venues:t,allVenues:t})})}},{key:"render",value:function(){return console.log(this.state.venues),r.a.createElement("div",{className:"content"},r.a.createElement(v,{venues:this.state.venues,showInfo:this.clickMarker,textString:this.state.text,changeMarker:this.updateContent}),r.a.createElement(m,{venues:this.state.venues}))}}]),t}(r.a.Component),h=function(){return r.a.createElement("div",{id:"footer"},r.a.createElement("p",null,"\xa9 Neighborhood Maps ",(new Date).getFullYear()),r.a.createElement("p",null,r.a.createElement("a",{href:"https://developer.foursquare.com",alt:"Foursquare"},"Powered by Foursquare Places API")))},w=function(e){function t(){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"initMap",value:function(){var e=new window.google.maps.Map(document.getElementById("map"),{center:{lat:19.699661135673523,lng:-155.064081},zoom:12});window.googleMapObject=e}},{key:"loadScript",value:function(){var e=this,t=document.getElementsByTagName("script")[0],n=this.makeMapScript();t.parentNode.insertBefore(n,t[0]),n.onerror=function(){alert("Error loading map data"+e.src)},window.initMap=this.initMap}},{key:"makeMapScript",value:function(){var e=document.createElement("script"),t="https://maps.googleapis.com/maps/api/js?key=".concat("AIzaSyBNjuIdOOQLuOuJqDv9n6PW5veI15v2M1U","&callback=initMap");return e.src=t,e.async=!0,e.defer=!0,e}},{key:"render",value:function(){return this.loadScript(),r.a.createElement("div",{className:"App"},r.a.createElement(p,null),r.a.createElement(f,null),r.a.createElement(h,null))}}]),t}(a.Component);i.a.render(r.a.createElement(w,null),document.getElementById("root")),"serviceWorker"in navigator&&window.addEventListener("load",function(){navigator.serviceWorker.register("/sw.js").then(function(){console.log("Registration worked!")}).catch(function(){console.log("Registration failed!")})})},8:function(e,t,n){e.exports=n(16)}},[[8,1,2]]]);
//# sourceMappingURL=main.9d07f49e.chunk.js.map